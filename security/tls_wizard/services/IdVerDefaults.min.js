define(["angular","lodash","app/services/CertificatesService"],function(angular,_){"use strict";return angular.module("App").factory("IdVerDefaults",["CertificatesService",function the_factory(CertificatesService){return{restore_previous:function(id_ver,saved_idver){_.assign(id_ver,saved_idver);CertificatesService.get_products().forEach(function(p){if(!p.x_identity_verification){return}p.x_identity_verification.forEach(function(id_v){if(id_v.type==="date"){if(id_ver[id_v.name]){id_ver[id_v.name]=new Date(id_ver[id_v.name])}}})})},set_defaults:function set_defaults(id_ver){var type_defaults={};["country_code"].forEach(function(t){type_defaults[t]=new Set});CertificatesService.get_products().forEach(function(p){if(!p.x_identity_verification){return}p.x_identity_verification.forEach(function(id_v){if(id_v.type in type_defaults){type_defaults[id_v.type].add(id_v.name)}})});type_defaults.country_code.forEach(function(v){id_ver[v]=CPANEL.PAGE.guessed_country_code})}}}])});