define(["angular","cjt/io/api","cjt/io/uapi-request","cjt/io/uapi"],function(angular,API,APIREQUEST,APIDRIVER){var app=angular.module("App");app.factory("configService",["$q",function($q){return{fetchBasicList:function(pathType,vhost){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("LangPHP","php_ini_get_user_basic_directives");apiCall.addArgument("type",pathType);if(pathType!=="home"){apiCall.addArgument("vhost",vhost)}API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data)}else{deferred.reject(response.error)}});return deferred.promise},getHandlerForDomain:function(pathType,vhost){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("LangPHP","php_get_domain_handler");apiCall.addArgument("type",pathType);if(pathType!=="home"){apiCall.addArgument("vhost",vhost)}API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data)}else{deferred.reject(response.error)}});return deferred.promise},applySettings:function(type,vhost,directives){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("LangPHP","php_ini_set_user_basic_directives");if(type!=="home"){apiCall.addArgument("vhost",vhost)}apiCall.addArgument("type",type);if(typeof directives!=="undefined"&&directives.length>0){directives.forEach(function(directive,index){apiCall.addArgument("directive-"+index,directive.key+":"+directive.value)})}API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data)}else{deferred.reject(response.error)}});return deferred.promise},fetchContent:function(pathType,vhost){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("LangPHP","php_ini_get_user_content");apiCall.addArgument("type",pathType);if(pathType!=="home"){apiCall.addArgument("vhost",vhost)}API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data.content)}else{deferred.reject(response.error)}});return deferred.promise},saveIniContent:function(content,pathType,vhost){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("LangPHP","php_ini_set_user_content");apiCall.addArgument("content",content);apiCall.addArgument("type",pathType);if(pathType!=="home"){apiCall.addArgument("vhost",vhost)}API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data)}else{deferred.reject(response.error)}});return deferred.promise}}}])});