define(["angular","app/services/statisticsService","cjt/directives/spinnerDirective","cjt/decorators/growlDecorator"],function(angular){var app=angular.module("App");var controller=app.controller("statisticsController",["$scope","spinnerAPI","statisticsService","growl","$timeout",function($scope,spinnerAPI,statisticsService,growl,$timeout){spinnerAPI.start("loadingStatsSpinner");$timeout(function(){statisticsService.fetchExtendedStats().then(function(response){$scope.statistics=response},function(error){growl.error(error)}).finally(function(){spinnerAPI.stop("loadingStatsSpinner")})});$scope.getStatStatus=function(percentage){if(percentage>=80){return"danger"}if(percentage>=60){return"warning"}if(percentage>=40){return"info"}if(percentage>=0){return"success"}}}]);return controller});