(function(){"use strict";var DOM=YAHOO.util.Dom;var EVENT=YAHOO.util.Event;var SSL=CPANEL.Applications.SSL;var PAGE=window.PAGE;var MINIMUM_MODULUS_LENGTH=CPANEL.ssl.DEFAULT_KEY_SIZE;var initialize=function(){var generate_set_focus=function(){var keySizeEl=DOM.get("keysize");if(keySizeEl&&keySizeEl.options.length>=1&&keySizeEl.options[0].value!==""){keySizeEl.focus()}else{DOM.get("gen-fname").focus()}};var lister_set_focus=function(){var firstAction=DOM.get("view-key-0");if(firstAction){firstAction.focus()}};if(!window.location.hash){if(!PAGE.properties.has_keys_data){generate_set_focus()}else{lister_set_focus()}}EVENT.on(["upload-link","upload2-link"],"click",function(e){EVENT.preventDefault(e);var windowScroll=new CPANEL.animate.WindowScroll("upload");windowScroll.onComplete.subscribe(function(){var field=DOM.get("key");if(field){field.focus()}});windowScroll.animate();return false});EVENT.on(["generate-link","generate2-link"],"click",function(e){EVENT.preventDefault(e);var windowScroll=new CPANEL.animate.WindowScroll("generate");windowScroll.onComplete.subscribe(generate_set_focus);windowScroll.animate();return false});EVENT.on(["list-link","list2-link"],"click",function(e){EVENT.preventDefault(e);var windowScroll=new CPANEL.animate.WindowScroll("top");windowScroll.onComplete.subscribe(lister_set_focus);windowScroll.animate();return false});var search_warning={"#ssltable .modulus-critical td.size-column":LOCALE.maketext("A key that does not use at least [numf,_1]-bit encryption does not provide adequate security.",MINIMUM_MODULUS_LENGTH)};for(var search in search_warning){var els=CPANEL.Y.all(search);for(var e=els.length-1;e>=0;e--){var cell=els[e];new CPANEL.widgets.Touch_Tooltip({context:CPANEL.Y(cell).one("img"),container:cell,text:search_warning[search]})}}EVENT.on("uploadkey","submit",handle_single_submission_lockout);EVENT.on("uploadkey2","submit",handle_single_submission_lockout);EVENT.on("genkey","submit",handle_single_submission_lockout)};YAHOO.util.Event.onDOMReady(initialize)})();