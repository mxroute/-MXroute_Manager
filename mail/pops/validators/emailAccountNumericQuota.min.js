define(["angular"],function(angular){var module;try{module=angular.module("cpanel.mail.Pops")}catch(e){module=angular.module("cpanel.mail.Pops",[])}module.directive("emailNumericQuota",function(){return{require:"ngModel",restrict:"A",priority:2,link:function(scope,element,attrs,ngModel){var testViewValue=function(view,testFunc){var quotaTypeModel=getNgOtherModel();if(!quotaTypeModel){return true}var otherIsEmpty=quotaTypeModel.$isEmpty(quotaTypeModel.$viewValue);if(otherIsEmpty){return true}if(quotaTypeModel.$viewValue!=="unlimited"){if(ngModel.$isEmpty(view)){return true}else{return testFunc(view)}}else{return true}};ngModel.$validators.number=function(model,view){return testViewValue(view,function(view){return!isNaN(view)})};ngModel.$validators.positiveInteger=function(model,view){return testViewValue(view,function(view){if(isNaN(view)){return true}else{var parsed=new Number(view);return parsed==parsed.toFixed(0)}})};scope.$watchGroup([function(){var ngOtherModel=getNgOtherModel();return ngOtherModel&&ngOtherModel.$viewValue},function(){var ngOtherModel=getNgOtherModel();return ngOtherModel&&ngOtherModel.$modelValue}],function(){ngModel.$validate()});var _ngOtherModel;function getNgOtherModel(){if(!_ngOtherModel){_ngOtherModel=scope.$eval(attrs.emailQuotaType)}return _ngOtherModel}}}})});