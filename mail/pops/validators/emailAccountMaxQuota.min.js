define(["angular"],function(angular){var module;try{module=angular.module("cpanel.mail.Pops")}catch(e){module=angular.module("cpanel.mail.Pops",[])}module.directive("emailMaxQuota",function(){return{require:"ngModel",restrict:"A",link:function(scope,element,attrs,ngModel){ngModel.$validators.emailMaxQuota=function(model,view){var quotaTypeModel=getNgOtherModel();if(!quotaTypeModel){return true}var otherIsEmpty=quotaTypeModel.$isEmpty(quotaTypeModel.$viewValue);if(otherIsEmpty){return true}if(quotaTypeModel.$viewValue!=="unlimited"){if(ngModel.$isEmpty(view)){return true}else if(isNaN(view)){return true}else{var maxQuota=parseInt(attrs.emailMaxQuota,10);return view<=maxQuota}}else{return true}};scope.$watchGroup([function(){var ngOtherModel=getNgOtherModel();return ngOtherModel&&ngOtherModel.$viewValue},function(){var ngOtherModel=getNgOtherModel();return ngOtherModel&&ngOtherModel.$modelValue}],function(){ngModel.$validate()});var _ngOtherModel;function getNgOtherModel(){if(!_ngOtherModel){_ngOtherModel=scope.$eval(attrs.emailQuotaType)}return _ngOtherModel}}}})});