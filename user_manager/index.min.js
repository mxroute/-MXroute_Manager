define(["angular","jquery","cjt/core","cjt/modules","ngRoute","uiBootstrap"],function(angular,$,CJT){return function(){angular.module("App",["ngRoute","ui.bootstrap","cjt2.cpanel"]);var app=require(["cjt/views/applicationController","cjt/services/autoTopService","app/views/listController","app/views/addController","app/views/editController","app/services/serverInfoService"],function(){var app=angular.module("App");app.firstLoad={userList:true};app.factory("emailDaemonInfo",function(){return{enabled:PAGE.isEmailRunning,name:"exim",supports:{quota:true}}});app.factory("ftpDaemonInfo",["serverInfoService",function(serverInfoService){return serverInfoService.prepareFtpDaemonInfo(PAGE.ftpDaemonInfo)}]);app.factory("webdiskDaemonInfo",function(){return{enabled:PAGE.isWebdavRunning,name:"cpdavd",supports:{quota:false}}});app.factory("sslInfo",["serverInfoService",function(serverInfoService){return serverInfoService.prepareSslInfo(PAGE.sslInfo)}]);app.factory("quotaInfo",["serverInfoService",function(serverInfoService){return serverInfoService.prepareQuotaInfo(PAGE.quotaInfo)}]);app.factory("defaultInfo",["serverInfoService",function(serverInfoService){return serverInfoService.prepareDefaultInfo(PAGE.serviceDefaults)}]);app.value("features",PAGE.features);app.config(["$routeProvider","$compileProvider",function($routeProvider,$compileProvider){$routeProvider.when("/list/cards",{controller:"listController",templateUrl:CJT.buildFullPath("user_manager/views/listCardsView.ptt")});$routeProvider.when("/list/rows",{controller:"listController",templateUrl:"user_manager/views/listRowsView.ptt"});$routeProvider.when("/add",{controller:"addController",templateUrl:"user_manager/views/addEditView.ptt"});$routeProvider.when("/edit/subaccount/:guid",{controller:"editController",templateUrl:"user_manager/views/editView.ptt"});$routeProvider.when("/edit/service/:type/:user",{controller:"editController",templateUrl:"user_manager/views/editView.ptt"});$routeProvider.otherwise({redirectTo:"/list/rows"});if(!CJT.config.debug){$compileProvider.debugInfoEnabled(false)}}]);app.run(["autoTopService",function(autoTopService){autoTopService.initialize()}]);app.init=function(){var appContent=angular.element("#content");if(appContent[0]!==null){angular.bootstrap(appContent[0],["App"])}return app};app.init()});return app}});