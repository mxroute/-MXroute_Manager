define(["angular","cjt/io/uapi-request","cjt/services/APIService"],function(angular,APIREQUEST){var app;try{app=angular.module("App")}catch(e){app=angular.module("App",[])}app.factory("backupAPIService",["APIService",function(APIService){var BackupAPIService=function(){};BackupAPIService.prototype=new APIService;angular.extend(BackupAPIService.prototype,{listDirectory:function(path){var apiCall=new APIREQUEST.Class;apiCall.initialize("Restore","directory_listing");apiCall.addArgument("path",path);var deferred=this.deferred(apiCall,{transformAPISuccess:function(response){return response.data},transformAPIFailure:function(response){return response.error}});return deferred.promise},listFileBackups:function(fullPath){var apiCall=new APIREQUEST.Class;apiCall.initialize("Restore","query_file_info");apiCall.addArgument("fullpath",fullPath);var deferred=this.deferred(apiCall,{transformAPISuccess:function(response){return response.data},transformAPIFailure:function(response){return response.error}});return deferred.promise},restore:function(fullPath,backupID){var apiCall=new APIREQUEST.Class;apiCall.initialize("Restore","restore_file");apiCall.addArgument("backupID",backupID);apiCall.addArgument("fullpath",fullPath);apiCall.addArgument("overwrite",1);var deferred=this.deferred(apiCall,{transformAPISuccess:function(response){return response.data},transformAPIFailure:function(response){return response.error}});return deferred.promise}});return new BackupAPIService}])});